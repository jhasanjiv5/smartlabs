<head>
  <title>smartBlock</title>
    <link rel="text/stylesheet" href="http://fonts.googleapis.com/css?family=Lato" />
    <link rel="text/stylesheet" href="lib/css.css">
    <link rel="text/stylesheet" href="lib/styles.css" />
    <script src="http://www.webglearth.com/v2/api.js"></script>
    <link rel="text/stylesheet" href="lib/jquery-jvectormap-2.0.3.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.min.js"></script>
    
</head>

<body>
    <div class="w3-container nameplate" style="min-height: 120px">
    <h1>W<img src="images/globe.png" style="height: 30px;">rld Pollution Monitoring System</h1>     
    </div>
  
    {{#if currentUser}} 
    {{> logoutdash}}
         
            <div class="details">
<!--
            <p>{{> hello}}</p>
            <p>{{> info}}</p>
-->
            <ul class="menu">
                <li><a href="#" class="dashboard" style="background:#4CAF50">Dashboard</a></li>
                <li><a href="#" class="addSensors">Add Sensor</a></li>
                <li><a href="#" class="updateBlockchain">Update Blockchain</a></li>
               
            </ul>
            <div class="content">
            {{> Template.dynamic template=template_name }}
            </div> 
            </div>
        {{else}}
        
       {{> register}}
        
        <div class="loginPageClass w3-card-4">
            
            <h4>Please Login!</h4>
           
            <div class="w3-container">
            
            <p>{{> login}}</p>
            
            </div>
            
            {{> registerlink}}
           
        </div>
        <div class="getdetailsclass w3-card-4">
            
            <h4>World pollution indicator</h4>
           
            <div class="w3-container">
            <p>{{> getdetails}}</p>
            </div>
            
        </div>
        <div class="earth">
           
            
            <h4 style="color:#fff">Hover on the map to see some recent updates</h4>
            
            {{> map}}
            
            
        </div>
        <div class="chart w3-card-4">
            
            <h5>The pollution record has reached some new peaks!</h5>
            
            <div class="w3-container">
            <p>{{> showdetails}}</p>
            </div>
            
        </div>
        
    {{/if}}
  
    
  
</body>

<!--
<template name="hello">
  <button>Click Me</button>
</template>

-->
<template name="map">
<!--
    <div id="earth_div"></div>
-->
  <div id="world-map" style="width: 100%; height: 550px;">{{renderMap}}</div>
  <div class="w3-container mapdataclass"><span class="dataClose">[x]</span>
    <div id ="selectopt">
        <p id="sorrymsg">Sorry, No record found!</p>
        
    <label for="region">Select Region</label>
        <br/>
        <select name="region" id="regionchoose">
           
            
        </select>
        <br/>
        </div>
  <div id="map-data">
  </div>
  </div>
</template>

<template name="showdetails">
    
    <p class="chartClose">Close[x]</p>
   
    <canvas id="myChart" style="width: 100%; height: 350px;"></canvas>
</template>
<template name="getdetails">
    
    <form style="display: block;">
        
        <label for="country" >Select Country</label>
        <br/>
        <select name="country" id="countryID">
            <option></option>
            {{#each country}}
            <option>{{countryName}}</option>
            {{/each}}
        </select>
            <br/>
        
        <label for="mode">Select Mode</label>
        <br/>
        <select name="mode" id="modeID">
            <option></option>
            <option>Air</option>
            <option>Water</option>
        </select>
        <br/>
        <label for="parameter" >Select Parameter</label>
        <br/>
        <select name="parameter" id="parameterID">
        <option></option>
        </select>
        
        <br/>
        <button type="submit">Show</button> 
        
        <button type="reset">Reset</button> 
        <br/>
        <span name="avg_turbidity"></span><br/>
        <span name="avg_oxigen"></span><br/>
        <span name="avg_nitrate"></span>
            
    </form>
    
</template>

<template name="dashboardTemp">
    

    <form  class="ranges w3-card-4 card_margin">
        
        <h4>Add standard values</h4>
        <div  class="w3-container">
        <label for="data11">CO(PPM)</label>
        <br/>
    
    <input type="Number" step="any" name="data11" placeholder="Lower Bound">
    <input type="Number" step="any" name="data12" placeholder="Upper Bound">
        <br/>
            <label for="data21">CO2(PPM)</label>
        <br/>
    
    <input type="Number" step="any" name="data21" placeholder="Lower Bound">
    <input type="Number" step="any" name="data22" placeholder="Upper Bound">
        <br/>
            <label for="data31">PH</label>
        <br/>
    
    <input type="Number" step="any" name="data31" placeholder="Lower Bound">
    <input type="Number" step="any" name="data32" placeholder="Upper Bound">
            <br/>
            <label for="data41">Turbidity</label>
        <br/>
    
    <input type="Number" step="any" name="data41" placeholder="Lower Bound">
    <input type="Number" step="any" name="data42" placeholder="Upper Bound">
            
            </div>
        <br/>
    
        <button type="submit">Add</button>
        
    </form>

<!--
    <form class="show w3-card-4 card_margin" >
        
        <h4>Show recent updates!</h4>
        <div class="w3-container">
            <input type="Text" name="country" placeholder="SensorID" required="required">
            <br/>
            <input type="Text" name="region" placeholder="SensorID" required="required">
            <br/>
        <input type="Text" name="SensorID" placeholder="SensorID" required="required">
        <br/>
        <span name="data"></span><br/>
       
        </div>
        
        <button type="submit">Show</button>
        
            
        </form>
-->
    <div class="standards w3-card-4 card_margin" >
        
        <h4>New Standards are </h4>
       
        <div class="w3-container">   
        <span name="costd">{{standards}} </span><br/>
        <span name="co2std">{{standards}} </span><br/>
        <span name="phstd">{{standards}} </span><br/>
        <span name="tubiditystd">{{standards}} </span>
            
        </div>
        
            
        </div>
</template>

<template name="addSensorsTemp">
   <form class="addsensor" style="margin:10px">
        
        <div class="w3-container">
        <h4>Add a new Sensor</h4>
        <label for="country">Select Country</label>
        <br/>
        <select name="country" id="countryselect">
            <option></option>
            {{#each country}}
            <option>{{countryName}}</option>
            {{/each}}
            
        </select>
        <br/>
        <label for="region">Select Region</label>
        <br/>
        <select name="region" id="regionselect">
           
            
        </select>
        <br/>
        <label for="mode">Select Mode</label>
        <br/>
        
        <input type="Text" name="deviceName" placeholder="Device Name" required="required">
        <br/>
        <button type="submit">Add</button>
                 
        </div>
    
       </form> 
    
    <form class="addcountry" style="margin:10px">
        <div class="w3-container">
        <br/>
        <h4>Add new location</h4>
        <label for="data31">Contry name</label>
        <br/>
        <select name="country" id="countryselectchoose">
            <option></option>
            <option>add new</option>
            {{#each country}}
            <option>{{countryName}}</option>
            {{/each}}
            
        </select>
        <input type="Text" id="countrynameadd" placeholder="Country name" style="display: none">
    
        <br/>
        <label for="data31">New installation region</label>
        <br/>
        <input type="Text" name="regionnameadd" placeholder="Region name" >
        <br/>
        <button type="submit">Add installation</button>
        <br/>
        </div>
    </form> 
    
    
</template>
<template name="updateBlockChainTemp">
     
    <form class="update w3-card-4 card_margin" style="margin:10px">
        <h4>Input the data received from the sensors</h4>
        <div class="w3-container">
        
        
        <label for="country">Select Country</label>
        <br/>
        <select name="country" class="countryselect">
            
             <option></option>
            {{#each country}}
            <option>{{countryName}}</option>
            {{/each}}
            
        </select>
        <br/>
            <label for="region">Select Region</label>
        <br/>
        <select name="region" class="regionselect">
            <option></option>
        </select>
            
            <br/>
        <label for="device">Device ID</label>
        <br/>
        <select name="device" id="deviceID" required="required">
            <option></option>
        </select>
        <br/>
           
        <p>Please add Air pollution details:</p>
        <label for="data31">CO</label>
        <br/>
    <input type="Number" step="any" name="data41" placeholder="data" >
    
        <br/>
        <label for="data31">CO2</label>
        <br/>
    <input type="Number" step="any" name="data51" placeholder="data" >
    
        <br/>
           
            
         <p>Please add Water pollution details:</p>
        <label for="data11">PH</label>
        <br/>
    <input type="Number" step="any" name="data11" placeholder="data" >
    
        <br/>
            <label for="data21">Turbidity</label>
        <br/>
    <input type="Number" step="any" name="data21" placeholder="data" >
   
        
            
    <br/>
        <span name="result"></span>
        <br/>
        
            
         </div> 
        <button type="submit">Set data</button>
        
         </form>
    
    <form class="show w3-card-4 card_margin"  style="margin:10px" >
        
        <h4>Show recent updates!</h4>
        <div class="w3-container">
            <label for="country">Select Country</label>
        <br/>
        <select name="country" class="countryselect2">
            
             <option></option>
            {{#each country}}
            <option>{{countryName}}</option>
            {{/each}}
            
        </select>
        <br/>
            <label for="region">Select Region</label>
        <br/>
        <select name="region" class="regionselect2">
            <option></option>
        </select>
            <br/>
        <label for="device">Device ID</label>
        <br/>
        <select name="device" id="deviceID2" required="required">
            <option></option>
        </select>
        <br/>
        <span name="data"></span><br/>
       
        </div>
        
        <button type="submit">Show</button>
        
            
        </form>
   
</template>
<template name="registerlink">
    <p class="registerLinkClass">Register</p>
</template>
<template name="login">
    <form>
        <input type="email" name="loginEmail" placeholder="Email ID">
        <input type="password" name="loginPassword" placeholder="Password">
        <button type="submit">Login</button>
        
    </form>
</template>
<template name="logoutdash">
    
    <p class="logoutClass"><a href="#" class="logout">LogOut</a></p>
    
</template>
<template name="register">
    <div class="w3-card-4 registerClass" style="visibility:collapse">
        
        
            <p class="registerClose">Close[x]</p>
       
    <form class="w3-container">
        <input type="email" name="registerEmail" placeholder="Email ID">
        <input type="password" name="registerPassword" placeholder="Password">
        <button type="submit">Register</button>
    </form>
        
        
    </div>
</template>