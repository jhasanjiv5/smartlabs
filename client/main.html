<head>
  <title>smartBlock</title>
    <link rel="text/stylesheet" href="http://fonts.googleapis.com/css?family=Lato" />
    <link rel="text/stylesheet" href="lib/css.css">
    <link rel="text/stylesheet" href="lib/styles.css" />
    <script src="http://www.webglearth.com/v2/api.js"></script>
    <link rel="text/stylesheet" href="lib/jquery-jvectormap-2.0.3.css"/>
    
    
</head>

<body>
    <div class="w3-container nameplate" style="min-height: 120px">
    <h1>W<img src="images/globe.png" style="height: 30px;">rld Pollution Monitoring System</h1>     
    </div>
  
    {{#if currentUser}} 
    {{> logoutdash}}
         
            <div class="details">
<!--
            <p>{{> hello}}</p>
            <p>{{> info}}</p>
-->
            <ul class="menu">
                <li><a href="#" class="dashboard" style="background:#4CAF50">Dashboard</a></li>
                <li><a href="#" class="addSensors">Add Sensor</a></li>
                <li><a href="#" class="updateBlockchain">Update Blockchain</a></li>
               
            </ul>
            <div class="content">
            {{> Template.dynamic template=template_name }}
            </div> 
            </div>
        {{else}}
        
       {{> register}}
        
        <div class="loginPageClass w3-card-4">
            
            <h4>Please Login!</h4>
           
            <div class="w3-container">
            
            <p>{{> login}}</p>
            
            </div>
            
            {{> registerlink}}
           
        </div>
        <div class="getdetailsclass w3-card-4">
            
            <h4>World pollution indicator</h4>
           
            <div class="w3-container">
            <p>{{> getdetails}}</p>
            </div>
            
        </div>
        <div class="earth">
           
            
            
            
            {{> map}}
            
            
        </div>
        <div class="chart w3-card-4">
            
            <h4>The result is:</h4>
            
            <div class="w3-container">
            <p>{{> showdetails}}</p>
            </div>
            
        </div>
        
    {{/if}}
  
</body>

<!--
<template name="hello">
  <button>Click Me</button>
</template>

-->
<template name="map">
<!--
    <div id="earth_div"></div>
    

-->
  
  <div id="world-map" style="width: 100%; height: 550px;">{{renderMap}}</div>
    
  </template>
<template name="showdetails">
    
</template>
<template name="getdetails">
    
    <form style="display: block;">
        
        <label for="country">Select Country</label>
        <br/>
        <select name="country" required="required">
            {{#each sensor}}
            <option>{{deviceName}}</option>
            {{/each}}
        </select>
            <br/>
        <label for="region">Select Region</label>
        <br/>    
        <select name="region">
            {{#each sensor}}
            <option>{{deviceName}}</option>
            {{/each}}
        </select>
        <br/>
        <label for="location">Select Loaction</label>
        <br/>
        <select name="location">
            {{#each sensor}}
            <option>{{deviceName}}</option>
            {{/each}}
        </select>
        
        <br/>
        <button type="submit">Show</button> 
        <br/>  
        <span name="avg_turbidity"></span><br/>
        <span name="avg_oxigen"></span><br/>
        <span name="avg_nitrate"></span>
            
    </form>
    
</template>

<template name="dashboardTemp">
    
    <form  class="ranges w3-card-4 card_margin">
        
        <h4>Add standard values</h4>
        <div  class="w3-container">
        <label for="data11">Turbidity(FNU)</label>
        <br/>
    <input type="Number" step="any" name="data11" placeholder="Upper Bound">
    <input type="Number" step="any" name="data12" placeholder="Lower Bound">
        <br/>
            <label for="data21">Dissolved Oxygen(mg/l)</label>
        <br/>
    <input type="Number" step="any" name="data21" placeholder="Upper Bound">
    <input type="Number" step="any" name="data22" placeholder="Lower Bound">
        <br/>
            <label for="data31">Nitrate(mg/l)</label>
        <br/>
    <input type="Number" step="any" name="data31" placeholder="Upper Bound">
    <input type="Number" step="any" name="data32" placeholder="Lower Bound">
            
            </div>
        <br/>
    
        <button type="submit">Add</button>
        
    </form>
    <form class="show w3-card-4 card_margin" >
        
        <h4>Show recent updates!</h4>
        <div class="w3-container">
        <input type="Text" name="SensorID" placeholder="SensorID" required="required">
        <br/>
            
        <span name="deviceID"></span><br/>
            <br/>
        <span name="turbidity"></span><br/>
        <span name="oxigen"></span><br/>
        <span name="nitrate"></span>
        </div>
        
        <button type="submit">Show</button>
        
            
        </form>
    <div class="standards w3-card-4 card_margin" >
        
        <h4>New Standards according to WHO are </h4>
       
        <div class="w3-container">   
        <span name="turbiditystd">{{standards}} </span><br/>
        <span name="oxigenstd">{{standards}} </span><br/>
        <span name="nitratestd">{{standards}} </span>
        </div>
        
            
        </div>
</template>
<template name="addSensorsTemp">
   <form>
        
        <div class="w3-container">
        <h4>Add a new Sensor</h4>
             
        <input type="Text" name="deviceName" placeholder="Device Name" required="required">
        <br/>
        <input type="Text" name="company" placeholder="Company Name" required="required">
        <br/>
        <button type="submit">Add</button>
                 
        </div>
    
       </form>  
    <div>
    <h4>You already have listed:</h4>
    {{#each sensor}}
    <p>"<strong>{{deviceName}}</strong>" form Company: "<strong>{{companyName}}</strong>"</p>
    {{/each}}
    </div>
    
</template>
<template name="updateBlockChainTemp">
     <div class="w3-container">
    <form>
        
        
       
        <h4>Input the data received from the sensors</h4>
        <label for="deviceID">Device ID</label>
        <br/>
        <select name="deviceID" required="required">
            {{#each sensor}}
            <option>{{deviceName}}</option>
            {{/each}}
        </select>
        <br/>
        <label for="data11">Turbidity</label>
        <br/>
    <input type="Number" step="any" name="data11" placeholder="data" >
    
        <br/>
            <label for="data21">Dissolved Oxygen</label>
        <br/>
    <input type="Number" step="any" name="data21" placeholder="data" >
   
        <br/>
            <label for="data31">Nitrate</label>
        <br/>
    <input type="Number" step="any" name="data31" placeholder="data" >
    
        <br/>
        <span name="result"></span>
        <br/>
        <button type="submit">Set</button>
         
         </form></div> 
   
</template>
<template name="registerlink">
    <p class="registerLinkClass">Register</p>
</template>
<template name="login">
    <form>
        <input type="email" name="loginEmail" placeholder="Email ID">
        <input type="password" name="loginPassword" placeholder="Password">
        <button type="submit">Login</button>
        
    </form>
</template>
<template name="logoutdash">
    
    <p class="logoutClass"><a href="#" class="logout">LogOut</a></p>
    
</template>
<template name="register">
    <div class="w3-card-4 registerClass" style="visibility:collapse">
        
        <header class="w3-container w3-blue">
            <p class="registerClose">Close[x]</p>
        </header>
       
    <form>
        <input type="email" name="registerEmail" placeholder="Email ID">
        <input type="password" name="registerPassword" placeholder="Password">
        <button type="submit">Register</button>
    </form>
        
        
    </div>
</template>